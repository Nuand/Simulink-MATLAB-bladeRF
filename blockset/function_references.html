<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!-- * Helpfiles for the Simulink-UHD Project
 * @copyright:  Comunication Engineering Lab (CEL), http://www.cel.kit.edu
 * @license:  GNU General Public License, Version 3-->
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <title>Function References :: Simulink-bladeRF</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <link rel="stylesheet" type="text/css" href="style.css" />
  </head>

  <body><!-- Navigation Bar Top -->
    <table cellspacing="0" cellpadding="0" border="0" width="100%" class="nav"
      summary="Navigation aid">
      <tbody>
        <tr>
          <td> <b>Simulink-MATLAB-bladeRF</b> </td>
        </tr>
      </tbody>
    </table>

    <!-- Headline -->
    <h1>Function References</h1>

    <hr />

    <p>This page provides an overview of the MATLAB functions included in
      the Simulink-MATLAB-bladeRF software package.</p>

    <!-- On this Page... -->
    <table cellspacing="0" cellpadding="4" border="0" class="pagenavtable">
      <tbody>
        <tr>
          <th> Reference for ... </th>
        </tr>
        <tr>
          <td>
            <p><a href="#bladerf_find_devices">bladerf_find_devices</a></p>
            <p><a href="#bladerf_dev">bladerf_dev</a></p>
          </td>
        </tr>
      </tbody>
    </table>

  <!-- Functions -->
    <!-- bladerf_find_devices -->
    <br />
    <h2><a name="bladerf_find_devices">bladerf_find_devices</a></h2>
    bladeRF devices attached to the host can be discovered using this function. The function returns a summary about connected devices containg the device index, the name and other useful information.<br />
    <h3>Usage:</h3>
    <table cellspacing="0" cellpadding="5" border="1" class="note" style="width: 161px; height: 53px;">
      <tbody>
        <tr width="90%">
          <td>
            <pre>&gt;&gt; <b>bladerf_find_devices</b><br /><br />
>> bladerf_find_devices
Found 1 bladeRF device:

Device Instance 0
Serial #: yourSERIALnumber387cc22
USB Bus: 1
USB Addr: 9
            </pre>
          </td>
        </tr>
      </tbody>
    </table>

  <!-- bladerf_dev -->
  <br />
    <h2><a name="bladerf_dev">bladerf_dev</a></h2>
    This function can be used to receive and transmit IQ-samples to and from the bladeRF device inside of MATLAB scripts. The usage is quite simple. Try <tt>help bladerf_dev</tt> for more information:
    <table cellspacing="0" cellpadding="5" border="1" class="note" style="width: 161px; height: 53px;">
      <tbody>
        <tr width="90%">
          <td>
            <pre>&gt;&gt; <b>help bladerf_dev</b>

 Usage:
 
         # Initialize bladeRF device:

             handle = bladerf_dev(index)

              handle - The returned handle used for addressing the initialized bladeRF device.


               index - The device index (e.g. 0).
         # Close bladeRF device:

             bladerf_dev(handle)

              handle - The returned handle used for the initialized bladeRF device.


         # Receive IQ-samples from bladeRF device:

             rxdata = bladerf_dev(handle,'RX',samplerate,bandwidth,frequency,gains,buf_length)


              rxdata - The received IQ-samples.
              handle - The returned handle used for the initialized bladeRF device.
          samplerate - The sampling rate of the device (200kHz - 40MHz) (e.g. 1e6 for 1 MHz bandwidth).
           frequency - The center frequency of the tuner (60kHz - 3.8GHz) (e.g. 100e6 for 100 MHz).
               gains - A scalar unified gain from 0db to 90dB (e.g. 10 for 10 dB of RX gain).
                     ` Alternate mode: 3 index array specifying LNA, RXVGA1, and RXVGA2 gains expressed in dB (e.g. [ 3 10 0 ] ).
          buf_length - The number of samples in the receive buffer (e.g. 1000).


         # Transmit IQ-samples to bladeRF device:

             ret = bladerf_dev(handle,'TX',samplerate,bandwidth,frequency,gains,txdata)


                 ret - Return status of transmit operation. 0 on success.
              handle - The returned handle used for the initialized bladeRF device.
          samplerate - The sampling rate of the device (200kHz - 40MHz) (e.g. 1e6 for 1 MHz bandwidth).
           frequency - The center frequency of the tuner (60kHz - 3.8GHz) (e.g. 100e6 for 100 MHz).
               gains - A scalar unified gain from -35dB to 25dB (e.g. 5 for 5dB of TX gain).
                     ` Alternate mode: 2 index array specifying TXVGA1, and TXVGA2 gains expressed in dB (e.g. [ -4 10 ] ).
              txdata - The Transmitted IQ-samples.
            </pre>
          </td>
        </tr>
      </tbody>
    </table>
    There is also a script <em>bladerf_mscript_demo</em> available in the <em>demo</em> folder.

    <!-- Navigation Bar Bottom -->
    <p></p>
    <table cellspacing="0" cellpadding="0" border="0" width="100%" summary="Navigation aid"
      class="nav">
      <tbody>
        <tr>
          <td> </td>
        </tr>
      </tbody>
    </table>
    <!-- Copyright --> <br />
    <p class="copy"> © 2014<a href="http://nuand.com/bladeRF"> Nuand LLC</a> <tt class="minicdot">•</tt>
    <p class="copy"> © 2012 <a href="http://www.cel.kit.edu/english/index.php">
        Communications Engineering Lab</a> <tt class="minicdot">•</tt>
      <a href="copyright.html">Copyright</a> <tt class="minicdot">•</tt>
      <a href="index.html">Homepage</a> </p>
  </body>
</html>
